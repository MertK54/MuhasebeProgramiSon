{"ast":null,"code":"import axios from 'axios';\nimport { Modal } from 'bootstrap';\nimport swal from 'sweetalert';\nexport default {\n  name: \"SupplierUpdateComponent\",\n  data() {\n    return {\n      suppliers: [],\n      selectedSupplier: {}\n    };\n  },\n  mounted() {\n    this.getSupplier();\n  },\n  methods: {\n    getSupplier() {\n      axios.get('http://localhost:5280/api/supplier/supplier-get').then(response => {\n        console.log(response.data);\n        if (response != null && response.data != null) {\n          this.suppliers = response.data;\n        }\n      }).catch(error => {\n        console.error(\"Error while fetching suppliers:\", error);\n        swal({\n          title: \"Supplier not listed\",\n          text: \"Error when listing suppliers\",\n          icon: \"warning\",\n          dangerMode: true\n        });\n      });\n    },\n    openUpdateModal(supplier) {\n      this.selectedSupplier = {\n        ...supplier\n      };\n      const modal = new Modal(document.getElementById('updateModal'));\n      modal.show();\n    },\n    updateSupplier() {\n      axios.post(\"http://localhost:5280/api/supplier/supplier-update\", this.selectedSupplier).then(response => {\n        console.log(\"Supplier updated\", response.data);\n        this.getSupplier();\n        const modal = Modal.getInstance(document.getElementById('updateModal'));\n        modal.hide();\n      }).catch(error => {\n        console.log(\"Update fail\", error);\n        swal({\n          title: \"Supplier not updated\",\n          text: \"Error when updated suppliers\",\n          icon: \"warning\",\n          dangerMode: true\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Modal","swal","name","data","suppliers","selectedSupplier","mounted","getSupplier","methods","get","then","response","console","log","catch","error","title","text","icon","dangerMode","openUpdateModal","supplier","modal","document","getElementById","show","updateSupplier","post","getInstance","hide"],"sources":["C:\\Users\\Polisoft WEB\\Desktop\\MuhasebeProgrami\\MuhasebeProgrami\\clientapp\\src\\components\\Suppliers\\SupplierUpdateComponent.vue"],"sourcesContent":["<template>\r\n    <table class=\"table\">\r\n        <thead>\r\n            <tr>\r\n                <th>Name</th>\r\n                <th>Email</th>\r\n                <th>Phone</th>\r\n                <th>Address</th>\r\n                <th>Update</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr v-for=\"supplier in suppliers\" :key=\"supplier.supplier_id\"> \r\n                <td>{{ supplier.name }}</td>\r\n                <td>{{ supplier.e_mail }}</td>\r\n                <td>{{ supplier.phone_number }}</td>\r\n                <td>{{ supplier.adress }}</td>\r\n                <td><button class=\"btn btn-primary\" @click=\"openUpdateModal(supplier)\">Update</button></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    <div class=\"modal fade\" id=\"updateModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\">Update Customer</h5>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <form @submit.prevent=\"updateCustomer\">\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"name\" class=\"form-label\">Name</label>\r\n                            <input type=\"text\" v-model=\"selectedSupplier.name\" class=\"form-control\" id=\"name\">\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"email\" class=\"form-label\">Email</label>\r\n                            <input type=\"email\" v-model=\"selectedSupplier.e_mail\" class=\"form-control\" id=\"email\">\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"phone\" class=\"form-label\">Phone</label>\r\n                            <input type=\"text\" v-model=\"selectedSupplier.phone_number\" class=\"form-control\" id=\"phone\">\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"address\" class=\"form-label\">Address</label>\r\n                            <input type=\"text\" v-model=\"selectedSupplier.adress\" class=\"form-control\" id=\"address\">\r\n                        </div>\r\n                        <button type=\"submit\" class=\"btn btn-primary\">Save changes</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { Modal } from 'bootstrap';\r\nimport swal from 'sweetalert';\r\nexport default {\r\n    name: \"SupplierUpdateComponent\",\r\n    data() {\r\n        return {\r\n            suppliers: [],\r\n            selectedSupplier: {}\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getSupplier();\r\n    },\r\n    methods: {\r\n        getSupplier() {\r\n                axios.get('http://localhost:5280/api/supplier/supplier-get')\r\n                .then(response => {\r\n                    console.log(response.data);\r\n                    if (response != null && response.data != null) {\r\n                        this.suppliers = response.data;\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.error(\"Error while fetching suppliers:\", error);\r\n                    swal({\r\n                        title: \"Supplier not listed\",\r\n                        text: \"Error when listing suppliers\",\r\n                        icon: \"warning\",\r\n                        dangerMode: true\r\n                    });\r\n                });\r\n            },\r\n        openUpdateModal(supplier) {\r\n            this.selectedSupplier = { ...supplier };\r\n            const modal = new Modal(document.getElementById('updateModal'));\r\n            modal.show();\r\n        },\r\n        updateSupplier() {\r\n            axios.post(\"http://localhost:5280/api/supplier/supplier-update\", this.selectedSupplier)\r\n                .then(response => {\r\n                    console.log(\"Supplier updated\", response.data);\r\n                    this.getSupplier();\r\n                    const modal = Modal.getInstance(document.getElementById('updateModal'));\r\n                    modal.hide();\r\n                })\r\n                .catch(error => {\r\n                    console.log(\"Update fail\", error);\r\n                    swal({\r\n                        title: \"Supplier not updated\",\r\n                        text: \"Error when updated suppliers\",\r\n                        icon: \"warning\",\r\n                        dangerMode: true\r\n                    });\r\n                });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n*{\r\n    color:black\r\n}\r\n</style>\r\n"],"mappings":"AAuDA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,KAAI,QAAS,WAAW;AACjC,OAAOC,IAAG,MAAO,YAAY;AAC7B,eAAe;EACXC,IAAI,EAAE,yBAAyB;EAC/BC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,SAAS,EAAE,EAAE;MACbC,gBAAgB,EAAE,CAAC;IACvB;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,WAAW,CAAC,CAAC;EACtB,CAAC;EACDC,OAAO,EAAE;IACLD,WAAWA,CAAA,EAAG;MACNR,KAAK,CAACU,GAAG,CAAC,iDAAiD,EAC1DC,IAAI,CAACC,QAAO,IAAK;QACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACR,IAAI,CAAC;QAC1B,IAAIQ,QAAO,IAAK,IAAG,IAAKA,QAAQ,CAACR,IAAG,IAAK,IAAI,EAAE;UAC3C,IAAI,CAACC,SAAQ,GAAIO,QAAQ,CAACR,IAAI;QAClC;MACJ,CAAC,EACAW,KAAK,CAACC,KAAI,IAAK;QACZH,OAAO,CAACG,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;QACvDd,IAAI,CAAC;UACDe,KAAK,EAAE,qBAAqB;UAC5BC,IAAI,EAAE,8BAA8B;UACpCC,IAAI,EAAE,SAAS;UACfC,UAAU,EAAE;QAChB,CAAC,CAAC;MACN,CAAC,CAAC;IACN,CAAC;IACLC,eAAeA,CAACC,QAAQ,EAAE;MACtB,IAAI,CAAChB,gBAAe,GAAI;QAAE,GAAGgB;MAAS,CAAC;MACvC,MAAMC,KAAI,GAAI,IAAItB,KAAK,CAACuB,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAAC;MAC/DF,KAAK,CAACG,IAAI,CAAC,CAAC;IAChB,CAAC;IACDC,cAAcA,CAAA,EAAG;MACb3B,KAAK,CAAC4B,IAAI,CAAC,oDAAoD,EAAE,IAAI,CAACtB,gBAAgB,EACjFK,IAAI,CAACC,QAAO,IAAK;QACdC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEF,QAAQ,CAACR,IAAI,CAAC;QAC9C,IAAI,CAACI,WAAW,CAAC,CAAC;QAClB,MAAMe,KAAI,GAAItB,KAAK,CAAC4B,WAAW,CAACL,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAAC;QACvEF,KAAK,CAACO,IAAI,CAAC,CAAC;MAChB,CAAC,EACAf,KAAK,CAACC,KAAI,IAAK;QACZH,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEE,KAAK,CAAC;QACjCd,IAAI,CAAC;UACDe,KAAK,EAAE,sBAAsB;UAC7BC,IAAI,EAAE,8BAA8B;UACpCC,IAAI,EAAE,SAAS;UACfC,UAAU,EAAE;QAChB,CAAC,CAAC;MACN,CAAC,CAAC;IACV;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}