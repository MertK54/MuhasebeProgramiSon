{"ast":null,"code":"import axios from 'axios';\nimport swal from 'sweetalert';\nexport default {\n  name: \"StockDeleteComponent\",\n  data() {\n    return {\n      stocks: []\n    };\n  },\n  mounted() {\n    this.getStock();\n  },\n  methods: {\n    getStock() {\n      axios.get('http://localhost:5280/api/stock/stock-get').then(response => {\n        if (response != null && response.data != null) this.stocks = response.data;\n      }).catch(error => {\n        swal({\n          title: \"Stocks not listed\",\n          text: \"error when listing stock\",\n          icon: \"warning\",\n          dangerMode: true\n        });\n        console.error(\"stocks not get\", error);\n      });\n    },\n    removeStock(stockId) {\n      axios.delete('http://localhost:5280/api/stock/stock-delete', {\n        data: {\n          stock_id: stockId\n        },\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        console.log(response.data.token);\n        if (response.data.token.length === 36) {\n          this.getStock();\n          swal({\n            title: \"Successfully Deleted\",\n            text: \"Stock has been deleted successfully.\",\n            con: \"success\"\n          });\n        }\n      }).catch(error => {\n        console.error(\"Error deleting stock:\", error);\n        swal({\n          title: \"Error\",\n          text: \"There was an error deleting the stock.\",\n          icon: \"error\"\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","swal","name","data","stocks","mounted","getStock","methods","get","then","response","catch","error","title","text","icon","dangerMode","console","removeStock","stockId","delete","stock_id","headers","log","token","length","con"],"sources":["C:\\Users\\Polisoft WEB\\Documents\\MuhasebeProgrami\\clientapp\\src\\components\\Stocks\\StockDeleteComponent.vue"],"sourcesContent":["<template>\n    <table class=\"table table-dark\">\n       <thead>\n         <tr>\n           <th class=\"p-3\">Stock Id</th>\n           <th>Product Name</th>\n           <th>Supplier</th>\n           <th>Supplier Id</th>\n           <th>Quantity</th>\n           <th>Unit Price</th>\n           <th>Delete</th>\n         </tr>\n       </thead>\n       <tbody>\n         <tr v-for=\"(stock, index) in stocks\" :key=\"index\">\n           <td class=\"p-3\">{{ stock.product_name }}</td>\n           <td>{{ stock.supplier_name}}</td>\n           <td>{{ stock.supplier_name}}</td>\n           <td>{{ stock.supplier_id}}</td>\n           <td>{{ stock.quantity }}</td>\n           <td>{{ stock.unit_price }}</td>\n           <td><button class=\"btn btn-danger\" @click=\"removeStock(stock.stock_id)\">Remove</button></td>\n         </tr>\n       </tbody>\n     </table>\n </template>\n<script>\nimport axios from 'axios';\nimport swal from 'sweetalert';\nexport default {\n    name: \"StockDeleteComponent\",\n    data(){\n        return{\n            stocks:[]\n        }\n    },\n    mounted() {\n     this.getStock();\n     },\n     methods:{\n        getStock(){\n             axios.get('http://localhost:5280/api/stock/stock-get')\n             .then(response => {\n               if(response != null && response.data != null)\n                 this.stocks = response.data;\n             })\n             .catch(error => {\n               swal({title:\"Stocks not listed\",text: \"error when listing stock\",icon:\"warning\",dangerMode:true})\n             console.error(\"stocks not get\", error);\n             });\n        },\n        removeStock(stockId){\n            axios.delete('http://localhost:5280/api/stock/stock-delete', {\n                data: { stock_id: stockId }, \n                headers: {'Content-Type': 'application/json'}\n            })\n            .then(response => {\n                console.log(response.data.token);\n                if(response.data.token.length===36){\n                this.getStock(); \n                swal({ title: \"Successfully Deleted\", text: \"Stock has been deleted successfully.\", con: \"success\" });\n            }})\n            .catch(error => {\n                console.error(\"Error deleting stock:\", error);\n                swal({ title: \"Error\", text: \"There was an error deleting the stock.\", icon: \"error\" });\n            });\n        }\n    }\n}\n</script>\n<style>\n\n</style>"],"mappings":"AA2BA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,IAAG,MAAO,YAAY;AAC7B,eAAe;EACXC,IAAI,EAAE,sBAAsB;EAC5BC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,MAAM,EAAC;IACX;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACT,IAAI,CAACC,QAAQ,CAAC,CAAC;EACf,CAAC;EACDC,OAAO,EAAC;IACLD,QAAQA,CAAA,EAAE;MACLN,KAAK,CAACQ,GAAG,CAAC,2CAA2C,EACpDC,IAAI,CAACC,QAAO,IAAK;QAChB,IAAGA,QAAO,IAAK,IAAG,IAAKA,QAAQ,CAACP,IAAG,IAAK,IAAI,EAC1C,IAAI,CAACC,MAAK,GAAIM,QAAQ,CAACP,IAAI;MAC/B,CAAC,EACAQ,KAAK,CAACC,KAAI,IAAK;QACdX,IAAI,CAAC;UAACY,KAAK,EAAC,mBAAmB;UAACC,IAAI,EAAE,0BAA0B;UAACC,IAAI,EAAC,SAAS;UAACC,UAAU,EAAC;QAAI,CAAC;QAClGC,OAAO,CAACL,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACtC,CAAC,CAAC;IACP,CAAC;IACDM,WAAWA,CAACC,OAAO,EAAC;MAChBnB,KAAK,CAACoB,MAAM,CAAC,8CAA8C,EAAE;QACzDjB,IAAI,EAAE;UAAEkB,QAAQ,EAAEF;QAAQ,CAAC;QAC3BG,OAAO,EAAE;UAAC,cAAc,EAAE;QAAkB;MAChD,CAAC,EACAb,IAAI,CAACC,QAAO,IAAK;QACdO,OAAO,CAACM,GAAG,CAACb,QAAQ,CAACP,IAAI,CAACqB,KAAK,CAAC;QAChC,IAAGd,QAAQ,CAACP,IAAI,CAACqB,KAAK,CAACC,MAAM,KAAG,EAAE,EAAC;UACnC,IAAI,CAACnB,QAAQ,CAAC,CAAC;UACfL,IAAI,CAAC;YAAEY,KAAK,EAAE,sBAAsB;YAAEC,IAAI,EAAE,sCAAsC;YAAEY,GAAG,EAAE;UAAU,CAAC,CAAC;QACzG;MAAC,CAAC,EACDf,KAAK,CAACC,KAAI,IAAK;QACZK,OAAO,CAACL,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7CX,IAAI,CAAC;UAAEY,KAAK,EAAE,OAAO;UAAEC,IAAI,EAAE,wCAAwC;UAAEC,IAAI,EAAE;QAAQ,CAAC,CAAC;MAC3F,CAAC,CAAC;IACN;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}