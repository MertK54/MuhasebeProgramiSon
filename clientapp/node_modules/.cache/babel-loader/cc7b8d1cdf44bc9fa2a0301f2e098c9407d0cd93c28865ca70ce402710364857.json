{"ast":null,"code":"import axios from 'axios';\nimport swal from 'sweetalert';\nexport default {\n  name: \"InvoiceDeleteComponent\",\n  data() {\n    return {\n      invoices: []\n    };\n  },\n  mounted() {\n    this.getListInvoice();\n  },\n  methods: {\n    getListInvoice() {\n      axios.get('http://localhost:5280/api/invoice/invoice-list-all').then(response => {\n        this.invoices = response.data;\n      }).catch(error => {\n        console.log(\"invoice listed error\", error);\n        swal({\n          title: \"invoice listed error\"\n        });\n      });\n    },\n    deleteInvoice(invoice) {\n      const params = {\n        supplier_id: invoice.supplier_id,\n        customer_id: invoice.customer_id,\n        stock_id: invoice.stock_id,\n        product_name: invoice.product_name,\n        quantity: parseInt(invoice.quantity),\n        unit_price: parseFloat(invoice.unit_price),\n        total_amount: parseFloat(invoice.total_amount),\n        invoice_type: invoice.invoice_type\n      };\n      console.log(\"Params being sent:\", params);\n      axios.delete('http://localhost:5280/api/invoice/invoice-delete', params, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        if (response && response.data && response.data.length === 36) {\n          console.log(\"Succesfuly Deleted\", response);\n          swal({\n            title: 'Successfuly Deleted'\n          });\n        } else {\n          console.log(\"Error Deleted\", response);\n          swal({\n            title: 'Error Deleted'\n          });\n        }\n      }).catch(error => {\n        console.log(\"Error trying to delete:\", error);\n        swal({\n          title: \"Error when trying to delete \",\n          icon: \"error\"\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","swal","name","data","invoices","mounted","getListInvoice","methods","get","then","response","catch","error","console","log","title","deleteInvoice","invoice","params","supplier_id","customer_id","stock_id","product_name","quantity","parseInt","unit_price","parseFloat","total_amount","invoice_type","delete","headers","length","icon"],"sources":["C:\\Users\\Polisoft WEB\\Documents\\MuhasebeProgrami\\clientapp\\src\\components\\Invoices\\InvoiceDeleteComponent.vue"],"sourcesContent":["<template>\r\n    <table class=\"table table-dark\">\r\n        <thead>\r\n            <tr>\r\n                <th class=\"p-3\">Product Name</th>\r\n                <th>Invoice Id</th>\r\n                <th>Supplier</th>\r\n                <th>Supplier Id</th>\r\n                <th>Type</th>\r\n                <th>Quantity</th>\r\n                <th>Unit Price</th>\r\n                <th>Total Amount</th>\r\n                <th>Delete</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr v-for=\"(invoice, index) in invoices\" :key=\"index\">\r\n                <td class=\"p-3\">{{ invoice.product_name }}</td>\r\n                <td>{{ invoice.invoice_id }}</td>\r\n                <td>{{ invoice.supplier_name }}</td>\r\n                <td>{{ invoice.supplier_id }}</td>\r\n                <td>{{ invoice.invoice_type }}</td>\r\n                <td>{{ invoice.quantity }}</td>\r\n                <td>{{ invoice.unit_price }}</td>\r\n                <td>{{ invoice.total_amount}}</td>\r\n                <td><button type=\"button\" class=\"btn btn-danger\" @click=\"deleteInvoice(invoice)\">Delete</button></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert';\r\nexport default {\r\nname: \"InvoiceDeleteComponent\",\r\n    data(){\r\n        return{\r\n            invoices:[]\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getListInvoice();\r\n    },\r\n    methods:{\r\n        getListInvoice()\r\n        {\r\n            axios.get('http://localhost:5280/api/invoice/invoice-list-all')\r\n            .then(response => {\r\n                this.invoices = response.data;\r\n            })\r\n            .catch(error => {\r\n                console.log(\"invoice listed error\",error)\r\n                swal({title:\"invoice listed error\"});\r\n            })\r\n        },\r\n        deleteInvoice(invoice){\r\n            const params = {\r\n                supplier_id : invoice.supplier_id,\r\n                customer_id : invoice.customer_id,\r\n                stock_id : invoice.stock_id,\r\n                product_name: invoice.product_name,\r\n                quantity: parseInt(invoice.quantity),\r\n                unit_price: parseFloat(invoice.unit_price),\r\n                total_amount: parseFloat(invoice.total_amount),\r\n                invoice_type: invoice.invoice_type\r\n            };\r\n            console.log(\"Params being sent:\",params)\r\n            axios.delete('http://localhost:5280/api/invoice/invoice-delete',params,{headers:{'Content-Type':'application/json'}})\r\n            .then(response => {\r\n                if(response && response.data && response.data.length === 36)\r\n                {\r\n                    console.log(\"Succesfuly Deleted\", response)\r\n                    swal({title:'Successfuly Deleted'})\r\n                }\r\n                else{\r\n                    console.log(\"Error Deleted\", response)\r\n                    swal({title:'Error Deleted'})\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error trying to delete:\",error)\r\n                swal({title:\"Error when trying to delete \",icon:\"error\"})\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":"AA+BA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,IAAG,MAAO,YAAY;AAC7B,eAAe;EACfC,IAAI,EAAE,wBAAwB;EAC1BC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,QAAQ,EAAC;IACb;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAE;IACL,IAAI,CAACC,cAAc,CAAC,CAAC;EACzB,CAAC;EACDC,OAAO,EAAC;IACJD,cAAcA,CAAA,EACd;MACIN,KAAK,CAACQ,GAAG,CAAC,oDAAoD,EAC7DC,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAACN,QAAO,GAAIM,QAAQ,CAACP,IAAI;MACjC,CAAC,EACAQ,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAACF,KAAK;QACxCX,IAAI,CAAC;UAACc,KAAK,EAAC;QAAsB,CAAC,CAAC;MACxC,CAAC;IACL,CAAC;IACDC,aAAaA,CAACC,OAAO,EAAC;MAClB,MAAMC,MAAK,GAAI;QACXC,WAAU,EAAIF,OAAO,CAACE,WAAW;QACjCC,WAAU,EAAIH,OAAO,CAACG,WAAW;QACjCC,QAAO,EAAIJ,OAAO,CAACI,QAAQ;QAC3BC,YAAY,EAAEL,OAAO,CAACK,YAAY;QAClCC,QAAQ,EAAEC,QAAQ,CAACP,OAAO,CAACM,QAAQ,CAAC;QACpCE,UAAU,EAAEC,UAAU,CAACT,OAAO,CAACQ,UAAU,CAAC;QAC1CE,YAAY,EAAED,UAAU,CAACT,OAAO,CAACU,YAAY,CAAC;QAC9CC,YAAY,EAAEX,OAAO,CAACW;MAC1B,CAAC;MACDf,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAACI,MAAM;MACvClB,KAAK,CAAC6B,MAAM,CAAC,kDAAkD,EAACX,MAAM,EAAC;QAACY,OAAO,EAAC;UAAC,cAAc,EAAC;QAAkB;MAAC,CAAC,EACnHrB,IAAI,CAACC,QAAO,IAAK;QACd,IAAGA,QAAO,IAAKA,QAAQ,CAACP,IAAG,IAAKO,QAAQ,CAACP,IAAI,CAAC4B,MAAK,KAAM,EAAE,EAC3D;UACIlB,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEJ,QAAQ;UAC1CT,IAAI,CAAC;YAACc,KAAK,EAAC;UAAqB,CAAC;QACtC,OACI;UACAF,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEJ,QAAQ;UACrCT,IAAI,CAAC;YAACc,KAAK,EAAC;UAAe,CAAC;QAChC;MACJ,CAAC,EACAJ,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAACF,KAAK;QAC3CX,IAAI,CAAC;UAACc,KAAK,EAAC,8BAA8B;UAACiB,IAAI,EAAC;QAAO,CAAC;MAC5D,CAAC;IACL;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}