{"ast":null,"code":"import axios from 'axios';\nimport { Modal } from 'bootstrap';\nimport swal from 'sweetalert';\nexport default {\n  name: \"InvoiceUpdateComponent\",\n  data() {\n    return {\n      selectedInvoice: {},\n      invoices: [],\n      payment_methods: ['credit-card', 'cash', 'payment', 'remittance'],\n      invoice_status: ['pending', 'approved']\n    };\n  },\n  mounted() {\n    this.getListInvoice();\n  },\n  methods: {\n    getListInvoice() {\n      axios.get('http://localhost:5280/api/invoice/invoice-list-all').then(response => {\n        this.invoices = response.data;\n      }).catch(error => {\n        console.log(\"invoice listed error\", error);\n        swal({\n          title: \"invoice listed error\"\n        });\n      });\n    },\n    openUpdateModal(invoice) {\n      this.selectedInvoice = {\n        ...invoice\n      };\n      const modal = new Modal(document.getElementById('updateModal'));\n      modal.show();\n    },\n    updateInvoice() {\n      const params = {\n        invoice_id: this.selectedInvoice.invoice_id,\n        payment_method: this.selectedInvoice.payment_method,\n        invoice_status: this.selectedInvoice.invoice_statu\n      };\n      axios.put('http://localhost:5280/api/invoice/invoice-update', params).then(response => {\n        swal({\n          title: \"Successfuly updated\",\n          icon: \"success\"\n        });\n        console.log(\"Response data: \", response.data);\n      }).catch(error => {\n        swal({\n          title: \"Error in updated\",\n          icon: \"warning\"\n        });\n        console.log(\"Error: \", error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Modal","swal","name","data","selectedInvoice","invoices","payment_methods","invoice_status","mounted","getListInvoice","methods","get","then","response","catch","error","console","log","title","openUpdateModal","invoice","modal","document","getElementById","show","updateInvoice","params","invoice_id","payment_method","invoice_statu","put","icon"],"sources":["C:\\Users\\Polisoft WEB\\Documents\\MuhasebeProgrami\\clientapp\\src\\components\\Invoices\\InvoiceUpdateComponent.vue"],"sourcesContent":["<template>\r\n    <table class=\"table table-dark\">\r\n        <thead>\r\n            <tr>\r\n                <th class=\"p-3\">Invoice Id</th>\r\n                <th>Product Name</th>\r\n                <th>Supplier</th>\r\n                <th>Customer</th>\r\n                <th>Payment</th>\r\n                <th>Statu</th>\r\n                <th>Quantity</th>\r\n                <th>Unit Price</th>\r\n                <th>Total Amount</th>\r\n                <th>Update</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr v-for=\"(invoice, index) in invoices\" :key=\"index\">\r\n                <td class=\"p-3\">{{ invoice.invoice_id }}</td>\r\n                <td>{{ invoice.product_name }}</td>\r\n                <td>{{ invoice.supplier_name }}</td>\r\n                <td>{{ invoice.customer_name }}</td>\r\n                <td>{{ invoice.payment_method }}</td>\r\n                <td>{{ invoice.invoice_statu }}</td>\r\n                <td>{{ invoice.quantity }}</td>\r\n                <td>{{ invoice.unit_price }}</td>\r\n                <td>{{ invoice.total_amount }}</td>\r\n                <td><button class=\"btn btn-primary\" @click=\"openUpdateModal(invoice)\">Update</button></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    <div class=\"modal fade\" id=\"updateModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title text-black\">Update Invoice</h5>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <form @submit.prevent=\"updateInvoice\" style=\"color:black\">\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"product_name\" class=\"form-label\">Product Name</label>\r\n                            <input type=\"text\" v-model=\"selectedInvoice.product_name\" class=\"form-control\" id=\"product_name\" disabled>\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"supplier_name\" class=\"form-label\">Supplier Name</label>\r\n                            <input type=\"text\" v-model=\"selectedInvoice.supplier_name\" class=\"form-control\" id=\"product_name\" disabled>\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"customer_name\" class=\"form-label\">Customer Name</label>\r\n                            <input type=\"text\" v-model=\"selectedInvoice.customer_name\" class=\"form-control\" id=\"product_name\" disabled>\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"payment_method\" class=\"form-label\">Payment Method</label>\r\n                            <v-select :options=\"payment_methods\" v-model=\"selectedInvoice.payment_method\"></v-select>\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"invoice_status\" class=\"form-label\">Invoice Status</label>\r\n                            <v-select :options=\"invoice_status\" v-model=\"selectedInvoice.invoice_statu\"></v-select>\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"quantity\" class=\"form-label\">Quantity</label>\r\n                            <input type=\"number\" v-model=\"selectedInvoice.quantity\" class=\"form-control\" id=\"quantity\" disabled>\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"invoice_tpye\" class=\"form-label\">Invoice Type</label>\r\n                            <input type=\"text\" v-model=\"selectedInvoice.invoice_type\" class=\"form-control\" id=\"invoice_type\" disabled>\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"unit_price\" class=\"form-label\">Unit Price</label>\r\n                            <input type=\"number\" v-model=\"selectedInvoice.unit_price\" class=\"form-control\" id=\"unit_price\" disabled>\r\n                        </div>\r\n                        <button type=\"submit\" class=\"btn btn-primary\">Save changes</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { Modal } from 'bootstrap';\r\nimport swal from 'sweetalert';\r\nexport default {\r\n    name: \"InvoiceUpdateComponent\",\r\n    data() {\r\n        return {\r\n            selectedInvoice: {},\r\n            invoices:[],\r\n            payment_methods:['credit-card','cash','payment','remittance'],\r\n            invoice_status:['pending','approved']\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getListInvoice();\r\n    },\r\n    methods: {\r\n        getListInvoice()\r\n        {\r\n            axios.get('http://localhost:5280/api/invoice/invoice-list-all')\r\n            .then(response => {\r\n                this.invoices = response.data;\r\n            })\r\n            .catch(error => {\r\n                console.log(\"invoice listed error\",error)\r\n                swal({title:\"invoice listed error\"});\r\n            })\r\n        },\r\n        openUpdateModal(invoice) {\r\n            this.selectedInvoice = { ...invoice };\r\n            const modal = new Modal(document.getElementById('updateModal'));\r\n            modal.show();\r\n        },\r\n        updateInvoice(){\r\n            const params = {\r\n                invoice_id: this.selectedInvoice.invoice_id,\r\n                payment_method:this.selectedInvoice.payment_method,\r\n                invoice_status:this.selectedInvoice.invoice_statu,\r\n            }\r\n            axios.put('http://localhost:5280/api/invoice/invoice-update',params)\r\n            .then(response => {\r\n                swal({title:\"Successfuly updated\",icon:\"success\"});\r\n                console.log(\"Response data: \",response.data);\r\n            })\r\n            .catch(error => {\r\n                swal({title:\"Error in updated\",icon:\"warning\"});\r\n                console.log(\"Error: \",error)\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"],"mappings":"AAiFA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,KAAI,QAAS,WAAW;AACjC,OAAOC,IAAG,MAAO,YAAY;AAC7B,eAAe;EACXC,IAAI,EAAE,wBAAwB;EAC9BC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,eAAe,EAAE,CAAC,CAAC;MACnBC,QAAQ,EAAC,EAAE;MACXC,eAAe,EAAC,CAAC,aAAa,EAAC,MAAM,EAAC,SAAS,EAAC,YAAY,CAAC;MAC7DC,cAAc,EAAC,CAAC,SAAS,EAAC,UAAU;IACxC;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,cAAc,CAAC,CAAC;EACzB,CAAC;EACDC,OAAO,EAAE;IACLD,cAAcA,CAAA,EACd;MACIV,KAAK,CAACY,GAAG,CAAC,oDAAoD,EAC7DC,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAACR,QAAO,GAAIQ,QAAQ,CAACV,IAAI;MACjC,CAAC,EACAW,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAACF,KAAK;QACxCd,IAAI,CAAC;UAACiB,KAAK,EAAC;QAAsB,CAAC,CAAC;MACxC,CAAC;IACL,CAAC;IACDC,eAAeA,CAACC,OAAO,EAAE;MACrB,IAAI,CAAChB,eAAc,GAAI;QAAE,GAAGgB;MAAQ,CAAC;MACrC,MAAMC,KAAI,GAAI,IAAIrB,KAAK,CAACsB,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAAC;MAC/DF,KAAK,CAACG,IAAI,CAAC,CAAC;IAChB,CAAC;IACDC,aAAaA,CAAA,EAAE;MACX,MAAMC,MAAK,GAAI;QACXC,UAAU,EAAE,IAAI,CAACvB,eAAe,CAACuB,UAAU;QAC3CC,cAAc,EAAC,IAAI,CAACxB,eAAe,CAACwB,cAAc;QAClDrB,cAAc,EAAC,IAAI,CAACH,eAAe,CAACyB;MACxC;MACA9B,KAAK,CAAC+B,GAAG,CAAC,kDAAkD,EAACJ,MAAM,EAClEd,IAAI,CAACC,QAAO,IAAK;QACdZ,IAAI,CAAC;UAACiB,KAAK,EAAC,qBAAqB;UAACa,IAAI,EAAC;QAAS,CAAC,CAAC;QAClDf,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAACJ,QAAQ,CAACV,IAAI,CAAC;MAChD,CAAC,EACAW,KAAK,CAACC,KAAI,IAAK;QACZd,IAAI,CAAC;UAACiB,KAAK,EAAC,kBAAkB;UAACa,IAAI,EAAC;QAAS,CAAC,CAAC;QAC/Cf,OAAO,CAACC,GAAG,CAAC,SAAS,EAACF,KAAK;MAC/B,CAAC;IACL;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}